import{u as B,r as f,B as U,m as j,c as L,o as a,w as R,a as F,b as t,d as s,h as N,e as D,k as u,g as l,i,f as y,q as g,t as d,F as E,x as I}from"./app-DiE7L2kM.js";import{A as M}from"./AuthenticatedLayout-BnSuEXTT.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                            */const A={class:"min-h-screen bg-gradient-to-b from-orange-50/40 via-white to-white py-8"},G={class:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8"},T={class:"rounded-2xl border border-orange-100 bg-white p-5 shadow-sm sm:p-6 lg:p-8"},$={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},q={key:0,class:"mt-1 text-sm text-red-600"},z={key:0,class:"mt-1 text-sm text-red-600"},J={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},O={id:"category-suggestions"},H=["value"],K={key:0,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},W={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},_={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"mt-4"},Z={key:0,class:"mt-1 text-sm text-red-600"},ee={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},te={key:0,class:"mt-1 text-sm text-red-600"},re={key:0,class:"sm:justify-self-end"},se=["src"],oe={key:1,class:"sm:justify-self-end"},ae=["src"],le={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end"},ne=["disabled"],ie={key:0,class:"-ml-0.5 mr-2 h-4 w-4 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},de={__name:"EditRestaurant",props:{auth:Object,restaurant:Object},setup(b){const n=b,w=["Ethiopian","Italian","Indian","Chinese","Japanese","American","Vegan","Vegetarian","Desserts","Bakery","Cafe","Fast Food","Seafood","BBQ","Grill"],r=B({name:"",description:"",category:"",phone:"",address:"",logo:null,rating:0,slug:"",_method:"PUT"}),x=f(!1);function v(m){return(m||"").toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80)}U(()=>r.name,m=>{x.value||(r.slug=v(m))});function h(){x.value=!0}const p=f(null),c=f(null);function k(m){const e=m.target.files?.[0];if(r.logo=e||null,e){const o=new FileReader;o.onload=V=>{p.value=V.target?.result},o.readAsDataURL(e)}else p.value=null}function C(){r.slug=v(r.name),x.value=!1}j(()=>{n.restaurant&&(r.name=n.restaurant.name||"",r.description=n.restaurant.description||"",r.category=n.restaurant.category||"",r.phone=n.restaurant.phone||"",r.address=n.restaurant.address||"",r.rating=n.restaurant.rating||0,r.slug=n.restaurant.slug||"",n.restaurant.logo_path&&(c.value=`/storage/${n.restaurant.logo_path}`))});function S(){r.post(`/restaurants/${n.restaurant.id}`,{forceFormData:!0,onSuccess:()=>{window.location.href="/setting"}})}return(m,e)=>(a(),L(M,{auth:b.auth},{default:R(()=>[F(s(N),{title:"Edit Restaurant"}),t("section",A,[t("div",G,[e[31]||(e[31]=t("div",{class:"mb-8 text-center"},[t("h1",{class:"text-3xl sm:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-amber-500"}," Edit Restaurant "),t("p",{class:"mt-2 text-sm sm:text-base text-gray-600"},"Update your restaurant details below.")],-1)),t("div",T,[e[30]||(e[30]=t("div",{class:"-mx-5 -mt-5 mb-6 h-1 bg-gradient-to-r from-orange-500 via-amber-400 to-orange-500 sm:-mx-6 lg:-mx-8"},null,-1)),t("form",{onSubmit:D(S,["prevent"]),enctype:"multipart/form-data",class:"space-y-8"},[t("div",null,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Basic Information",-1)),e[11]||(e[11]=t("p",{class:"text-sm text-gray-500"},"Name and public slug for your restaurant.",-1)),t("div",$,[t("div",null,[e[8]||(e[8]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[y("Name "),t("span",{class:"text-orange-600"},"*")],-1)),u(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s(r).name=o),type:"text",required:"",placeholder:"e.g., Spice Garden",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[g,s(r).name,void 0,{trim:!0}]]),s(r).errors.name?(a(),l("p",q,d(s(r).errors.name),1)):i("",!0)]),t("div",null,[t("div",{class:"flex items-center justify-between"},[e[9]||(e[9]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-700"},[y("Slug "),t("span",{class:"text-orange-600"},"*")],-1)),t("button",{type:"button",class:"text-xs font-medium text-orange-600 hover:text-orange-700",onClick:C}," Regenerate from name ")]),u(t("input",{id:"slug","onUpdate:modelValue":e[1]||(e[1]=o=>s(r).slug=o),onInput:h,type:"text",required:"",placeholder:"e.g., spice-garden",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,544),[[g,s(r).slug,void 0,{trim:!0}]]),s(r).errors.slug?(a(),l("p",z,d(s(r).errors.slug),1)):i("",!0)])])]),t("div",null,[e[14]||(e[14]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Classification",-1)),e[15]||(e[15]=t("p",{class:"text-sm text-gray-500"},"Category helps customers discover your cuisine.",-1)),t("div",J,[t("div",null,[e[12]||(e[12]=t("label",{for:"category",class:"block text-sm font-medium text-gray-700"},"Category",-1)),u(t("input",{id:"category","onUpdate:modelValue":e[2]||(e[2]=o=>s(r).category=o),type:"text",list:"category-suggestions",placeholder:"e.g., Indian",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[g,s(r).category,void 0,{trim:!0}]]),t("datalist",O,[(a(),l(E,null,I(w,o=>t("option",{key:o,value:o},d(o),9,H)),64))]),s(r).errors.category?(a(),l("p",K,d(s(r).errors.category),1)):i("",!0)]),t("div",null,[e[13]||(e[13]=t("label",{for:"rating",class:"block text-sm font-medium text-gray-700"},"Rating",-1)),u(t("input",{id:"rating","onUpdate:modelValue":e[3]||(e[3]=o=>s(r).rating=o),type:"number",step:"0.01",min:"0",max:"9.99",placeholder:"0 - 9.99",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[g,s(r).rating,void 0,{number:!0}]]),s(r).errors.rating?(a(),l("p",Q,d(s(r).errors.rating),1)):i("",!0)])])]),t("div",null,[e[18]||(e[18]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Contact",-1)),e[19]||(e[19]=t("p",{class:"text-sm text-gray-500"},"Make it easy for customers to reach you.",-1)),t("div",W,[t("div",null,[e[16]||(e[16]=t("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"Phone",-1)),u(t("input",{id:"phone","onUpdate:modelValue":e[4]||(e[4]=o=>s(r).phone=o),type:"tel",inputmode:"tel",placeholder:"e.g., +251 900 000000",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[g,s(r).phone,void 0,{trim:!0}]]),s(r).errors.phone?(a(),l("p",_,d(s(r).errors.phone),1)):i("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{for:"address",class:"block text-sm font-medium text-gray-700"},"Address",-1)),u(t("input",{id:"address","onUpdate:modelValue":e[5]||(e[5]=o=>s(r).address=o),type:"text",placeholder:"Street, City, Country",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[g,s(r).address,void 0,{trim:!0}]]),s(r).errors.address?(a(),l("p",X,d(s(r).errors.address),1)):i("",!0)])])]),t("div",null,[e[21]||(e[21]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Description",-1)),e[22]||(e[22]=t("p",{class:"text-sm text-gray-500"},"Tell customers what makes your restaurant special.",-1)),t("div",Y,[e[20]||(e[20]=t("label",{for:"description",class:"sr-only"},"Description",-1)),u(t("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=o=>s(r).description=o),rows:"5",placeholder:"Write a short description...",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-3 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[g,s(r).description,void 0,{trim:!0}]]),s(r).errors.description?(a(),l("p",Z,d(s(r).errors.description),1)):i("",!0)])]),t("div",null,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Logo",-1)),e[27]||(e[27]=t("p",{class:"text-sm text-gray-500"},"Upload an optional logo (PNG/JPG/SVG). Max ~2MB.",-1)),t("div",ee,[t("div",null,[e[23]||(e[23]=t("label",{for:"logo",class:"block text-sm font-medium text-gray-700"},"Logo file",-1)),t("input",{id:"logo",type:"file",accept:"image/*",onChange:k,class:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:rounded-lg file:border-0 file:bg-orange-50 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-orange-700 hover:file:bg-orange-100"},null,32),s(r).errors.logo?(a(),l("p",te,d(s(r).errors.logo),1)):i("",!0)]),p.value?(a(),l("div",re,[e[24]||(e[24]=t("div",{class:"text-sm text-gray-500 mb-2"},"Preview",-1)),t("img",{src:p.value,alt:"Logo preview",class:"h-24 w-24 rounded-xl object-cover ring-1 ring-orange-200/70"},null,8,se)])):c.value?(a(),l("div",oe,[e[25]||(e[25]=t("div",{class:"text-sm text-gray-500 mb-2"},"Current Logo",-1)),t("img",{src:c.value,alt:"Current logo",class:"h-24 w-24 rounded-xl object-cover ring-1 ring-orange-200/70"},null,8,ae)])):i("",!0)])]),t("div",le,[t("button",{type:"button",class:"inline-flex items-center justify-center rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-medium text-orange-700 shadow-sm hover:bg-orange-50 focus:outline-none focus:ring-2 focus:ring-orange-200",onClick:e[7]||(e[7]=o=>{s(r).reset(),p.value=null,c.value=null,x.value=!1})}," Reset "),t("button",{type:"submit",disabled:s(r).processing,class:"inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-5 py-2.5 text-sm font-semibold text-white shadow transition-colors hover:from-orange-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-orange-300 disabled:cursor-not-allowed disabled:opacity-60"},[s(r).processing?(a(),l("svg",ie,e[28]||(e[28]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):i("",!0),e[29]||(e[29]=y(" Save Restaurant ",-1))],8,ne)])],32)])])])]),_:1},8,["auth"]))}},xe=P(de,[["__scopeId","data-v-4c1dc0aa"]]);export{xe as default};
