import{u as S,r as c,B as V,c as B,o as l,w as U,a as A,b as t,d as s,h as F,e as L,k as d,g as a,i as n,f as x,q as u,t as i,F as N,x as R}from"./app-DiE7L2kM.js";import{A as D}from"./AuthenticatedLayout-BnSuEXTT.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                            */const j={class:"min-h-screen bg-gradient-to-b from-orange-50/40 via-white to-white py-8"},M={class:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8"},P={class:"rounded-2xl border border-orange-100 bg-white p-5 shadow-sm sm:p-6 lg:p-8"},G={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},q={key:0,class:"mt-1 text-sm text-red-600"},z={key:0,class:"mt-1 text-sm text-red-600"},E={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},O={id:"category-suggestions"},T=["value"],J={key:0,class:"mt-1 text-sm text-red-600"},$={key:0,class:"mt-1 text-sm text-red-600"},H={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},K={key:0,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},W={class:"mt-4"},Y={key:0,class:"mt-1 text-sm text-red-600"},X={class:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2"},Z={key:0,class:"mt-1 text-sm text-red-600"},_={key:0,class:"sm:justify-self-end"},ee=["src"],te={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end"},re=["disabled"],se={key:0,class:"-ml-0.5 mr-2 h-4 w-4 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},oe={__name:"Addrestaurant",props:{auth:Object},setup(b){const y=["Ethiopian","Italian","Indian","Chinese","Japanese","American","Vegan","Vegetarian","Desserts","Bakery","Cafe","Fast Food","Seafood","BBQ","Grill"],r=S({name:"",description:"",category:"",phone:"",address:"",logo:null,rating:0,slug:""}),p=c(!1);function f(g){return(g||"").toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80)}V(()=>r.name,g=>{p.value||(r.slug=f(g))});function v(){p.value=!0}const m=c(null);function w(g){const e=g.target.files?.[0];if(r.logo=e||null,e){const o=new FileReader;o.onload=C=>{m.value=C.target?.result},o.readAsDataURL(e)}else m.value=null}function h(){r.slug=f(r.name),p.value=!1}function k(){r.post("/restaurants",{forceFormData:!0,onSuccess:()=>{window.location.href="/restaurant/dashboard"}})}return(g,e)=>(l(),B(D,{auth:b.auth},{default:U(()=>[A(s(F),{title:"Add Restaurant"}),t("section",j,[t("div",M,[e[33]||(e[33]=t("div",{class:"mb-8 text-center"},[t("h1",{class:"text-3xl sm:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-amber-500"}," Add Restaurant "),t("p",{class:"mt-2 text-sm sm:text-base text-gray-600"},"Provide your restaurant details below.")],-1)),t("div",P,[e[32]||(e[32]=t("div",{class:"-mx-5 -mt-5 mb-6 h-1 bg-gradient-to-r from-orange-500 via-amber-400 to-orange-500 sm:-mx-6 lg:-mx-8"},null,-1)),t("form",{onSubmit:L(k,["prevent"]),enctype:"multipart/form-data",class:"space-y-8"},[t("div",null,[e[11]||(e[11]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Basic Information",-1)),e[12]||(e[12]=t("p",{class:"text-sm text-gray-500"},"Name and public slug for your restaurant.",-1)),t("div",G,[t("div",null,[e[8]||(e[8]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[x("Name "),t("span",{class:"text-orange-600"},"*")],-1)),d(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s(r).name=o),type:"text",required:"",placeholder:"e.g., Spice Garden",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[u,s(r).name,void 0,{trim:!0}]]),s(r).errors.name?(l(),a("p",q,i(s(r).errors.name),1)):n("",!0)]),t("div",null,[t("div",{class:"flex items-center justify-between"},[e[9]||(e[9]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-700"},[x("Slug "),t("span",{class:"text-orange-600"},"*")],-1)),t("button",{type:"button",class:"text-xs font-medium text-orange-600 hover:text-orange-700",onClick:h}," Regenerate from name ")]),d(t("input",{id:"slug","onUpdate:modelValue":e[1]||(e[1]=o=>s(r).slug=o),onInput:v,type:"text",required:"",placeholder:"e.g., spice-garden",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,544),[[u,s(r).slug,void 0,{trim:!0}]]),e[10]||(e[10]=t("p",{class:"mt-1 text-xs text-gray-500"},"Used in your public URL. Only letters, numbers, and hyphens.",-1)),s(r).errors.slug?(l(),a("p",z,i(s(r).errors.slug),1)):n("",!0)])])]),t("div",null,[e[16]||(e[16]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Classification",-1)),e[17]||(e[17]=t("p",{class:"text-sm text-gray-500"},"Category helps customers discover your cuisine.",-1)),t("div",E,[t("div",null,[e[13]||(e[13]=t("label",{for:"category",class:"block text-sm font-medium text-gray-700"},"Category",-1)),d(t("input",{id:"category","onUpdate:modelValue":e[2]||(e[2]=o=>s(r).category=o),type:"text",list:"category-suggestions",placeholder:"e.g., Indian",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[u,s(r).category,void 0,{trim:!0}]]),t("datalist",O,[(l(),a(N,null,R(y,o=>t("option",{key:o,value:o},i(o),9,T)),64))]),s(r).errors.category?(l(),a("p",J,i(s(r).errors.category),1)):n("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{for:"rating",class:"block text-sm font-medium text-gray-700"},"Rating",-1)),d(t("input",{id:"rating","onUpdate:modelValue":e[3]||(e[3]=o=>s(r).rating=o),type:"number",step:"0.01",min:"0",max:"9.99",placeholder:"0 - 9.99",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[u,s(r).rating,void 0,{number:!0}]]),e[15]||(e[15]=t("p",{class:"mt-1 text-xs text-gray-500"},"Optional. You can leave 0 and let it be computed by reviews later.",-1)),s(r).errors.rating?(l(),a("p",$,i(s(r).errors.rating),1)):n("",!0)])])]),t("div",null,[e[21]||(e[21]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Contact",-1)),e[22]||(e[22]=t("p",{class:"text-sm text-gray-500"},"Make it easy for customers to reach you.",-1)),t("div",H,[t("div",null,[e[18]||(e[18]=t("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"Phone",-1)),d(t("input",{id:"phone","onUpdate:modelValue":e[4]||(e[4]=o=>s(r).phone=o),type:"tel",inputmode:"tel",placeholder:"e.g., +251 900 000000",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[u,s(r).phone,void 0,{trim:!0}]]),e[19]||(e[19]=t("p",{class:"mt-1 text-xs text-gray-500"},"Must be unique. Include country code if applicable.",-1)),s(r).errors.phone?(l(),a("p",K,i(s(r).errors.phone),1)):n("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{for:"address",class:"block text-sm font-medium text-gray-700"},"Address",-1)),d(t("input",{id:"address","onUpdate:modelValue":e[5]||(e[5]=o=>s(r).address=o),type:"text",placeholder:"Street, City, Country",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[u,s(r).address,void 0,{trim:!0}]]),s(r).errors.address?(l(),a("p",Q,i(s(r).errors.address),1)):n("",!0)])])]),t("div",null,[e[24]||(e[24]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Description",-1)),e[25]||(e[25]=t("p",{class:"text-sm text-gray-500"},"Tell customers what makes your restaurant special.",-1)),t("div",W,[e[23]||(e[23]=t("label",{for:"description",class:"sr-only"},"Description",-1)),d(t("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=o=>s(r).description=o),rows:"5",placeholder:"Write a short description...",class:"mt-1 w-full rounded-xl border border-orange-200/70 bg-white px-3 py-3 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[u,s(r).description,void 0,{trim:!0}]]),s(r).errors.description?(l(),a("p",Y,i(s(r).errors.description),1)):n("",!0)])]),t("div",null,[e[28]||(e[28]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Logo",-1)),e[29]||(e[29]=t("p",{class:"text-sm text-gray-500"},"Upload an optional logo (PNG/JPG/SVG). Max ~2MB.",-1)),t("div",X,[t("div",null,[e[26]||(e[26]=t("label",{for:"logo",class:"block text-sm font-medium text-gray-700"},"Logo file",-1)),t("input",{id:"logo",type:"file",accept:"image/*",onChange:w,class:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:rounded-lg file:border-0 file:bg-orange-50 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-orange-700 hover:file:bg-orange-100"},null,32),s(r).errors.logo?(l(),a("p",Z,i(s(r).errors.logo),1)):n("",!0)]),m.value?(l(),a("div",_,[e[27]||(e[27]=t("div",{class:"text-sm text-gray-500 mb-2"},"Preview",-1)),t("img",{src:m.value,alt:"Logo preview",class:"h-24 w-24 rounded-xl object-cover ring-1 ring-orange-200/70"},null,8,ee)])):n("",!0)])]),t("div",te,[t("button",{type:"button",class:"inline-flex items-center justify-center rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-medium text-orange-700 shadow-sm hover:bg-orange-50 focus:outline-none focus:ring-2 focus:ring-orange-200",onClick:e[7]||(e[7]=o=>{s(r).reset(),m.value=null,p.value=!1})}," Reset "),t("button",{type:"submit",disabled:s(r).processing,class:"inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-5 py-2.5 text-sm font-semibold text-white shadow transition-colors hover:from-orange-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-orange-300 disabled:cursor-not-allowed disabled:opacity-60"},[s(r).processing?(l(),a("svg",se,e[30]||(e[30]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):n("",!0),e[31]||(e[31]=x(" Save Restaurant ",-1))],8,re)])],32)])])])]),_:1},8,["auth"]))}},de=I(oe,[["__scopeId","data-v-d9cb37ae"]]);export{de as default};
