import{y as $,r as i,j as v,m as H,s as O,c as P,o as n,w as U,b as e,g as l,i as _,f as h,k as C,q as D,z as R,t as a,F as z,x as J,d as M}from"./app-DiE7L2kM.js";import{A as Q}from"./AuthenticatedLayout-BnSuEXTT.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                            */const K={class:"min-h-screen bg-gradient-to-b from-orange-600/40 via-white to-white"},W={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8"},X={class:"mb-6 rounded-2xl border border-orange-100 bg-white/90 p-4 sm:p-5 shadow-sm"},Y={class:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between"},ee={class:"w-full sm:max-w-md"},te={class:"relative"},oe={class:"w-full sm:w-60"},se={class:"relative"},re={class:"mb-6 text-sm text-gray-600","aria-live":"polite"},ne={key:0},ae={key:1},le={key:2},ie={key:0,class:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-orange-200 bg-orange-50/60 p-10 text-center"},de={key:1,class:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-orange-200 bg-orange-50/40 p-8 text-center"},ue={class:"mt-1 max-w-md text-sm text-gray-600"},ce={key:2,role:"list",class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},me={class:"relative overflow-hidden"},ge=["src","alt"],ve={class:"p-4 sm:p-5"},pe={class:"mb-3 inline-flex items-center"},fe={class:"flex items-center space-x-2 rounded-full bg-gradient-to-r from-orange-50 to-amber-50 px-3 py-1.5 text-xs font-medium text-orange-700 border border-orange-200/50"},xe={class:"text-lg font-semibold text-gray-900"},he={class:"mt-1 text-sm text-gray-600 clamp-2"},be={class:"mt-5 space-y-3"},we={class:"inline-flex items-center text-lg font-semibold text-orange-700"},ye={class:"flex flex-col sm:flex-row items-center justify-between gap-3 mt-4"},ke={class:"flex gap-2 w-full sm:w-auto"},_e=["onClick"],Ce={key:3,class:"mt-8 text-center"},Me={__name:"Menu",props:{menus:{type:Array,default:()=>[]},auth:Object,errors:Object},setup(N){const j=N,{menus:b,auth:f,errors:Ne}=$(j),u=i(""),p=i("name_asc"),L=i(8),g=i(8),B=new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:2}),c=v(()=>b.value?.length??0);v(()=>d.value.slice(0,g.value));const d=v(()=>{const s=u.value.trim().toLowerCase().replace(/\s+/g," ");let t=(b.value||[]).filter(o=>{const r=(o?.name??"").toLowerCase(),Z=(o?.description??"").toLowerCase(),q=s===""||r.includes(s)||Z.includes(s),F=f.value?.user?.restaurant_id?o.restaurant_id===f.value.user.restaurant_id:!0;return q&&F});switch(p.value){case"price_asc":t.sort((o,r)=>(Number(o.price)||0)-(Number(r.price)||0));break;case"price_desc":t.sort((o,r)=>(Number(r.price)||0)-(Number(o.price)||0));break;case"name_desc":t.sort((o,r)=>(r.name||"").localeCompare(o.name||"",void 0,{sensitivity:"base"}));break;case"name_asc":default:t.sort((o,r)=>(o.name||"").localeCompare(r.name||"",void 0,{sensitivity:"base"}));break}return t}),S=s=>s?.picture?`/storage/${s.picture}`:"https://via.placeholder.com/800x600.png?text=No+Image";i(!1);const w=i(null),A=i(1);i(""),v(()=>w.value?(Number(w.value.price)||0)*A.value:0);const E=s=>{if(!s)return;const t={menuId:s.id,name:s.name,price:Number(s.price)||0,quantity:1,picture:s.picture},o=m.value.find(r=>r.menuId===s.id);o?o.quantity+=1:m.value.push(t),T()},I=()=>{window.location.href="/cart"},m=i([]),x=()=>{try{m.value=JSON.parse(localStorage.getItem("cart")||"[]")}catch{m.value=[]}},V=v(()=>m.value.reduce((s,t)=>s+Number(t.quantity||0),0)),T=()=>{localStorage.setItem("cart",JSON.stringify(m.value)),window.dispatchEvent(new CustomEvent("cart:updated",{detail:{count:V.value}}))},y=s=>{(!s||s.key==="cart")&&x()},k=()=>x();return H(()=>{x(),window.addEventListener("storage",y),window.addEventListener("cart:updated",k)}),O(()=>{window.removeEventListener("storage",y),window.removeEventListener("cart:updated",k)}),(s,t)=>(n(),P(Q,{auth:M(f)},{default:U(()=>[e("div",K,[e("section",W,[t[21]||(t[21]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl sm:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-amber-500"}," Explore Menu "),e("p",{class:"mt-2 text-sm sm:text-base text-gray-600"},[h(" Find your next favorite dish "),e("span",{"aria-hidden":"true"},"ðŸ½ï¸")])],-1)),e("div",X,[e("div",Y,[e("div",ee,[t[7]||(t[7]=e("label",{for:"menu-search",class:"sr-only"},"Search dishes",-1)),e("div",te,[t[6]||(t[6]=e("span",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400"},[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.3-4.3"})])],-1)),C(e("input",{id:"menu-search","onUpdate:modelValue":t[0]||(t[0]=o=>u.value=o),type:"search",placeholder:"Search dishes...",class:"w-full rounded-xl border border-orange-200/70 bg-white pl-10 pr-10 py-2.5 text-sm shadow-sm placeholder:text-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},null,512),[[D,u.value]]),u.value?(n(),l("button",{key:0,type:"button",class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600","aria-label":"Clear search",onClick:t[1]||(t[1]=o=>u.value="")},t[5]||(t[5]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[e("path",{d:"M18 6 6 18M6 6l12 12"})],-1)]))):_("",!0)])]),e("div",oe,[t[10]||(t[10]=e("label",{for:"menu-sort",class:"sr-only"},"Sort menu",-1)),e("div",se,[C(e("select",{id:"menu-sort","onUpdate:modelValue":t[2]||(t[2]=o=>p.value=o),class:"block w-full appearance-none rounded-xl border border-orange-200/70 bg-white px-3 py-2.5 text-sm shadow-sm focus:border-orange-500 focus:ring-2 focus:ring-orange-200"},t[8]||(t[8]=[e("option",{value:"name_asc"},"Name: A â†’ Z",-1),e("option",{value:"name_desc"},"Name: Z â†’ A",-1),e("option",{value:"price_asc"},"Price: Low â†’ High",-1),e("option",{value:"price_desc"},"Price: High â†’ Low",-1)]),512),[[R,p.value]]),t[9]||(t[9]=e("span",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.94l3.71-3.71a.75.75 0 1 1 1.06 1.06l-4.24 4.24a.75.75 0 0 1-1.06 0L5.25 8.27a.75.75 0 0 1-.02-1.06Z","clip-rule":"evenodd"})])],-1))])])])]),e("p",re,[c.value===0?(n(),l("span",ne,"No items available.")):d.value.length===c.value?(n(),l("span",ae,"Showing all "+a(c.value)+" item"+a(c.value===1?"":"s")+".",1)):(n(),l("span",le,"Showing "+a(d.value.length)+" of "+a(c.value)+" item"+a(c.value===1?"":"s")+".",1))]),c.value===0?(n(),l("div",ie,t[11]||(t[11]=[e("div",{class:"mb-3 rounded-full bg-white p-3 text-orange-500 shadow"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-6 w-6"},[e("path",{d:"M6.32 2.577A49.255 49.255 0 0 1 12 2.25c1.92 0 3.8.11 5.68.327a.75.75 0 0 1 .66.743V7.5a.75.75 0 0 1-.75.75h-11A.75.75 0 0 1 6 7.5V3.647a.75.75 0 0 1 .32-.07ZM4.5 8.25A.75.75 0 0 0 3.75 9v9.75A2.25 2.25 0 0 0 6 21h12a2.25 2.25 0 0 0 2.25-2.25V9a.75.75 0 0 0-.75-.75h-15Z"})])],-1),e("h2",{class:"text-lg font-semibold text-gray-900"},"No menu items yet",-1),e("p",{class:"mt-1 max-w-md text-sm text-gray-600"},"Please check back later.",-1)]))):d.value.length===0?(n(),l("div",de,[t[12]||(t[12]=e("div",{class:"mb-3 rounded-full bg-white p-3 text-orange-500 shadow"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-6 w-6"},[e("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 4.263 12.05l4.219 4.218a.75.75 0 1 0 1.06-1.06l-4.218-4.22A6.75 6.75 0 0 0 10.5 3.75ZM6 10.5a4.5 4.5 0 1 1 9.001.001A4.5 4.5 0 0 1 6 10.5Z","clip-rule":"evenodd"})])],-1)),t[13]||(t[13]=e("h2",{class:"text-base font-semibold text-gray-900"},"No results",-1)),e("p",ue,' No dishes match "'+a(u.value)+'". Try a different search. ',1),e("button",{type:"button",class:"mt-4 inline-flex items-center rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-4 py-2 text-sm font-medium text-white shadow hover:from-orange-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-orange-300",onClick:t[3]||(t[3]=o=>{u.value="",p.value="name_asc"})}," Clear filters ")])):(n(),l("div",ce,[(n(!0),l(z,null,J(d.value,o=>(n(),l("article",{key:o.id,role:"listitem",class:"group relative overflow-hidden rounded-2xl border border-orange-100 bg-white shadow-sm transition-all hover:-translate-y-0.5 hover:shadow-lg focus-within:ring-2 focus-within:ring-orange-300"},[t[19]||(t[19]=e("div",{class:"pointer-events-none absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-orange-500 via-amber-400 to-orange-500 opacity-70"},null,-1)),e("div",me,[t[14]||(t[14]=e("div",{class:"aspect-[4/3] w-full bg-gray-100"},null,-1)),e("img",{src:S(o),alt:o?.name?`${o.name} image`:"Menu image",loading:"lazy",class:"absolute inset-0 h-full w-full object-cover transition duration-300 group-hover:scale-[1.03]"},null,8,ge),t[15]||(t[15]=e("div",{class:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/15 via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"},null,-1)),t[16]||(t[16]=e("div",{class:"absolute top-3 right-3"},[e("span",{class:"inline-flex items-center rounded-full bg-green-500 px-2.5 py-1 text-xs font-medium text-white shadow-lg"}," Available ")],-1))]),e("div",ve,[e("div",pe,[e("div",fe,[t[17]||(t[17]=e("svg",{class:"h-3.5 w-3.5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),e("span",null,a(o.restaurant?.name||"Local Restaurant"),1)])]),e("h3",xe,a(o.name),1),e("p",he,a(o.description),1),e("div",be,[e("span",we,a(M(B).format(Number(o.price)||0)),1),e("div",ye,[e("div",ke,[e("button",{onClick:r=>E(o),class:"flex-1 sm:flex-none inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 px-3 py-2 text-sm font-medium text-white shadow hover:from-green-600 hover:to-emerald-600 focus:outline-none focus:ring-2 focus:ring-green-300"},t[18]||(t[18]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" Add to Cart ",-1)]),8,_e),e("button",{onClick:I,class:"flex-1 sm:flex-none inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-3 py-2 text-sm font-medium text-white shadow hover:from-orange-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-orange-300"}," Order Now ")])])])])]))),128))])),d.value.length>g.value?(n(),l("div",Ce,[e("button",{onClick:t[4]||(t[4]=o=>g.value=Math.min(g.value+L.value,d.value.length)),class:"inline-flex items-center rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-6 py-3 text-sm font-medium text-white shadow hover:from-orange-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-orange-300"},[t[20]||(t[20]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1)),h(" Load More ("+a(d.value.length-g.value)+" more) ",1)])])):_("",!0)])])]),_:1},8,["auth"]))}},Ae=G(Me,[["__scopeId","data-v-54c7aaf5"]]);export{Ae as default};
