import{A as N}from"./AuthenticatedLayout-BnSuEXTT.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as q,j as f,m as E,s as B,c as L,o as a,w as S,b as e,g as d,F as j,x as M,t as n,d as m,f as T}from"./app-DiE7L2kM.js";/* empty css                                                                            */const F={class:"min-h-screen bg-gradient-to-b from-orange-50/40 via-white to-white"},$={class:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-10"},D={key:0,class:"rounded-2xl border border-dashed border-orange-200 bg-orange-50/50 p-10 text-center"},O={key:1,class:"space-y-6"},U={class:"rounded-2xl border border-orange-100 bg-white shadow-sm divide-y"},A={class:"min-w-0"},J={class:"text-base font-semibold text-gray-900 truncate"},V={class:"text-sm text-gray-600"},Y={class:"flex items-center gap-4"},H={class:"inline-flex items-center rounded-lg border border-orange-200"},R=["onClick"],z={class:"px-3 py-1.5 text-sm font-semibold text-gray-900 min-w-[2rem] text-center"},G=["onClick"],K={class:"text-right"},P={class:"text-base font-semibold text-orange-700"},Q=["onClick"],W={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},X={class:"text-right"},Z={class:"text-sm text-gray-600"},ee={class:"font-medium text-gray-900"},te={class:"text-lg font-bold text-orange-600"},oe={__name:"Cart",props:{auth:Object},setup(h){const y=h,r=q([]),l=()=>{try{r.value=JSON.parse(localStorage.getItem("cart")||"[]")}catch{r.value=[]}},i=()=>{localStorage.setItem("cart",JSON.stringify(r.value)),window.dispatchEvent(new CustomEvent("cart:updated",{detail:{count:u.value}}))},u=f(()=>r.value.reduce((o,t)=>o+Number(t.quantity||0),0)),g=f(()=>r.value.reduce((o,t)=>o+(Number(t.price)||0)*(Number(t.quantity)||0),0)),c=new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:2}),_=o=>{o.quantity=Number(o.quantity||0)+1,i()},w=o=>{const t=Number(o.quantity||0)-1;t<=0?x(o):(o.quantity=t,i())},x=o=>{r.value=r.value.filter(t=>t.menuId!==o.menuId),i()},C=()=>{r.value=[],i()},b=o=>{(!o||o.key==="cart")&&l()},p=()=>l();E(()=>{l(),window.addEventListener("storage",b),window.addEventListener("cart:updated",p)}),B(()=>{window.removeEventListener("storage",b),window.removeEventListener("cart:updated",p)});const k=()=>{r.value.length&&alert(`Checkout not implemented. Items: ${u.value}, Total: ${c.format(g.value)}`)};return(o,t)=>(a(),L(N,{auth:y.auth},{default:S(()=>[e("div",F,[e("div",$,[t[3]||(t[3]=e("h1",{class:"text-3xl font-extrabold text-gray-900 mb-6"},"Your Cart",-1)),r.value.length===0?(a(),d("div",D,t[0]||(t[0]=[e("div",{class:"mx-auto mb-4 w-12 h-12 flex items-center justify-center rounded-full bg-white text-orange-500 shadow"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 9m12-9l2 9m-6-9v9"})])],-1),e("p",{class:"text-gray-700 font-medium"},"Your cart is empty.",-1),e("a",{href:"/menu",class:"mt-4 inline-flex items-center rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-4 py-2 text-sm font-medium text-white shadow hover:from-orange-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-orange-300"},"Browse Menu",-1)]))):(a(),d("div",O,[e("div",U,[(a(!0),d(j,null,M(r.value,s=>(a(),d("div",{key:s.menuId,class:"p-4 sm:p-5 flex items-center justify-between gap-4"},[e("div",A,[e("h3",J,n(s.name),1),e("p",V,"Unit price: "+n(m(c).format(Number(s.price)||0)),1)]),e("div",Y,[e("div",H,[e("button",{type:"button",class:"px-2 py-1.5 text-orange-600 hover:bg-orange-50",onClick:v=>w(s),"aria-label":"Decrease"}," - ",8,R),e("span",z,n(s.quantity),1),e("button",{type:"button",class:"px-2 py-1.5 text-orange-600 hover:bg-orange-50",onClick:v=>_(s),"aria-label":"Increase"}," + ",8,G)]),e("div",K,[t[1]||(t[1]=e("div",{class:"text-sm text-gray-500"},"Subtotal",-1)),e("div",P,n(m(c).format((Number(s.price)||0)*(Number(s.quantity)||0))),1)]),e("button",{type:"button",class:"ml-2 inline-flex items-center rounded-lg border border-red-200 bg-red-50 px-3 py-1.5 text-xs font-medium text-red-700 hover:bg-red-100",onClick:v=>x(s)}," Remove ",8,Q)])]))),128))]),e("div",W,[e("button",{type:"button",class:"inline-flex items-center rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-orange-50",onClick:C}," Clear Cart "),e("div",X,[e("div",Z,[t[2]||(t[2]=T("Items: ",-1)),e("span",ee,n(u.value),1)]),e("div",te,"Total: "+n(m(c).format(g.value)),1)])]),e("div",{class:"flex justify-end"},[e("button",{type:"button",class:"inline-flex items-center rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-5 py-2.5 text-sm font-medium text-white shadow hover:from-orange-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-orange-300",onClick:k}," Checkout ")])]))])])]),_:1},8,["auth"]))}},ie=I(oe,[["__scopeId","data-v-b0a3dcc0"]]);export{ie as default};
