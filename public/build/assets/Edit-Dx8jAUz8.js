import{u as k,r as _,c as C,o as i,w as g,b as t,a as x,e as M,k as m,g as n,i as d,n as p,d as s,q as f,t as c,l as B,f as b}from"./app-DiE7L2kM.js";import{A as z}from"./AuthenticatedLayout-BnSuEXTT.js";import U from"./SideBar-B9ugW0BE.js";/* empty css                                                                            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"min-h-screen flex"},E={class:"flex-1 ml-20 md:ml-64 p-6 bg-white bg-opacity-90 min-h-screen"},N={class:"max-w-2xl mx-auto"},F={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},P={key:0,class:"mt-1 text-sm text-red-600"},S={class:"mt-1 flex items-center space-x-4"},I={key:0,class:"relative"},$=["src"],j={class:"flex-1"},A={key:0,class:"mt-1 text-xs text-red-600"},G={key:0,class:"mt-1 text-sm text-red-600"},T={class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-100"},q=["disabled"],J={key:0,class:"flex items-center"},H={key:1},L=2*1024*1024,X={__name:"Edit",props:{menu:{type:Object,required:!0}},setup(l){const y=typeof route=="function"?route("menus.index"):"/menus",v=typeof route=="function"?route("menus.update",l.menu.id):`/menus/${l.menu.id}`,r=k({name:l.menu?.name??"",price:String(l.menu?.price??""),description:l.menu?.description??"",picture:null}),a=_("");function h(o){const e=o.target.files?.[0];e&&(e.size>L?(a.value=`File size (${(e.size/1024/1024).toFixed(2)}MB) exceeds 2MB limit`,r.picture=null,o.target.value=""):(a.value="",r.picture=e))}function w(){a.value="",r.transform(o=>{const e={_method:"put",name:(o.name??"").trim(),description:o.description??"",price:o.price===""?null:Number(o.price)};return o.picture&&(e.picture=o.picture),e}),r.post(v,{forceFormData:!0,preserveScroll:!0})}return(o,e)=>(i(),C(z,null,{default:g(()=>[t("div",V,[x(U),t("div",E,[e[10]||(e[10]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-800"},"Edit Menu Item"),t("p",{class:"text-gray-600"},"Update your menu item details")],-1)),t("div",N,[t("form",{onSubmit:M(w,["prevent"]),class:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 space-y-6"},[t("div",null,[e[3]||(e[3]=t("label",{for:"name",class:"block text-sm font-semibold text-gray-700 mb-2"},"Menu Item Name",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>s(r).name=u),id:"name",type:"text",placeholder:"Enter menu item name",class:p(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition",{"border-red-500":s(r).errors.name}])},null,2),[[f,s(r).name]]),s(r).errors.name?(i(),n("p",F,c(s(r).errors.name),1)):d("",!0)]),t("div",null,[e[4]||(e[4]=t("label",{for:"description",class:"block text-sm font-semibold text-gray-700 mb-2"},"Description",-1)),m(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=u=>s(r).description=u),id:"description",rows:"4",placeholder:"Describe your menu item",class:p(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition resize-none",{"border-red-500":s(r).errors.description}])},null,2),[[f,s(r).description]]),s(r).errors.description?(i(),n("p",D,c(s(r).errors.description),1)):d("",!0)]),t("div",null,[e[5]||(e[5]=t("label",{for:"price",class:"block text-sm font-semibold text-gray-700 mb-2"},"Price (ETB)",-1)),m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>s(r).price=u),id:"price",type:"number",step:"0.01",min:"0",placeholder:"0.00",class:p(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition",{"border-red-500":s(r).errors.price}])},null,2),[[f,s(r).price]]),s(r).errors.price?(i(),n("p",P,c(s(r).errors.price),1)):d("",!0)]),t("div",null,[e[7]||(e[7]=t("label",{for:"picture",class:"block text-sm font-semibold text-gray-700 mb-2"},"Menu Item Picture",-1)),t("div",S,[l.menu.picture?(i(),n("div",I,[t("img",{src:`/storage/${l.menu.picture}`,alt:"Current menu item image",class:"h-24 w-24 rounded-lg object-cover border border-gray-200"},null,8,$)])):d("",!0),t("div",j,[t("input",{onChange:h,id:"picture",type:"file",accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100 transition"},null,32),e[6]||(e[6]=t("p",{class:"mt-1 text-xs text-gray-500"},"PNG, JPG, JPEG up to 2MB",-1)),a.value?(i(),n("p",A,c(a.value),1)):d("",!0)])]),s(r).errors.picture?(i(),n("p",G,c(s(r).errors.picture),1)):d("",!0)]),t("div",T,[x(s(B),{href:s(y),class:"px-6 py-3 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition"},{default:g(()=>e[8]||(e[8]=[b(" Cancel ",-1)])),_:1,__:[8]},8,["href"]),t("button",{disabled:s(r).processing||!!a.value,class:"px-6 py-3 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"},[s(r).processing?(i(),n("span",J,e[9]||(e[9]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),b(" Updating... ",-1)]))):(i(),n("span",H,"Update Menu Item"))],8,q)])],32)])])])]),_:1}))}};export{X as default};
